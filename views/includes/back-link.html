{{ govukBackLink({
  text: "Back",
  id: "back_link",
  href: backLinkUrl,
  attributes: {
    "data-event-id": "back-link"
  }
}) }}


<!-- <script>
  const navigationStack = [];

  const setPreviousUrl = () => {
    navigationStack.push(window.location.href);
    // const previousUrl = sessionStorage.setItem('previousUrl', window.location.href);
  }

  const customBack = () => {
    // const previousUrl = sessionStorage.getItem('previousUrl');
    const previousUrl = navigationStack.pop();

    if (previousUrl) {
      window.location.href = previousUrl;
    }
  }
    
  setPreviousUrl();

  document.getElementById('back-link').addEventListener('click', customBack)
</script> -->

<script>
  const getNavStack = () => {
    const storeStack = localStorage.getItem('navStack') || '[]';
    return JSON.parse(storeStack);
  }
  
  const setPreviousUrlStack = (navigationStack) => {
    localStorage.setItem('navStack', JSON.stringify(navigationStack));
  }


  const simulateCustomBack = () => {
    const navigationStack = getNavStack();
    const previousUrl = navigationStack.pop();
    setPreviousUrlStack(navigationStack);

    if (previousUrl) {
      window.location.href = previousUrl;
    }
  }

  document.getElementById('back-link').addEventListener('click', simulateCustomBack)

</script>