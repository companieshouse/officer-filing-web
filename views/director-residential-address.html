{% extends "layout.html" %}

{% set title = "Where does the director live?" %}

{% block pageTitle %}
  {% include "includes/page-title.html" %}
{% endblock %}

{% block backLink %}
  {% include "includes/back-link.html" %}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">

      {% include "includes/list/errors.html" %}

      {% if 'undefined' not in directorServiceAddress %}
        {% set directorServiceAddressValue = directorServiceAddress %}
      {% endif %}

      {% if manualAddress and 'undefined' not in manualAddress %}
        {% set manualAddressDisplay = {
            value: "director_home_address",
              text: manualAddress,
              checked: director_address === "director_home_address",
              attributes: {
                "data-event-id": "director-home-address"
              }
          }
        %}
      {% endif %}
      
      <form action="" method="post">
        <span class="govuk-caption-xl govuk-!-padding-bottom-1">{{directorName}}</span>
        {{ govukRadios({
          errorMessage: errors.director_address if errors,
          idPrefix: "director_address",
          name: "director_address",
          fieldset: {
            legend: {
              text: "Where does the director live?",
              isPageHeading: true,
              classes: "govuk-fieldset__legend--l"
            }
          },
          hint: {
              text: "Tell us the director's home address. Only give a business address if they also live there."
          },
          items: [
            {
              value: "director_service_address",
              text: directorServiceAddressValue,
              checked: director_address === "director_service_address",
              attributes: {
                "data-event-id": "director-service-address"
              }
            },
            manualAddressDisplay,
            {
              value: "director_different_address",
              text: "A different address",
              checked: director_address === "director_different_address",
              attributes: {
                "data-event-id": "director-different-address"
              }
            }
          ]
        }) }}

        <div class="govuk-inset-text">
          <h2 class="govuk-heading-m">What information we'll show on the public register</h2>
            <p>We will not show this address on the public Companies House register, 
              unless it's also used for the company's registered office address or 
              the director's correspondence address.
            </p>
        </div>

        {{ govukButton({
          attributes: {
            "data-event-id": "continue-button"
          },
          text: "Continue"
        }) }}

      </form>
    </div>
  </div>
{% endblock %}